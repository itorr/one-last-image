<!DOCTYPE html>
<html lang="zh-CN" data-loading="true">
<head>
<meta charset="UTF-8">
<title>One Last Image - 卢浮宫生成器 - One Last Kiss 风格 封面生成 图片转线稿 - 神奇海螺实验室</title>
<link rel="stylesheet" href="document.css">
<meta name="viewport" content="width=device-width,user-scalable=0">
<meta name="description" content="One Last Kiss 卢浮宫生成器 风格 图片转线稿 封面生成 宇多田光 神奇海螺实验室">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<link rel="apple-touch-icon" href="icon.jpg">
<link rel="manifest" href="manifest.json" crossorigin="use-credentials">
</head>
<body>

<div class="app" :data-runing="runing" :data-loading="loading">
	<header>
		<h1>
			One Last Image
		</h1>
		<!-- <p>One Last Kiss 风格 图片转线稿 封面生成器</p> -->
		<!-- <img src="../one-last-image-logo-color.png"> -->
	</header>
	<div class="main-box">
		<div class="preview-box" 
			:data-cover="style.cover"
			data-runing="true"
			:data-diff="diff"
			:data-runing="runing"
			@touchstart.prevent="toDiff()"
			@touchend.prevent="diff = false"
			@mousedown.prevent="toDiff()"
			@mouseup.prevent="diff = false"
			@mouseout.prevent="diff = false">
			<img ref="img" 
				src="images/asuka-8.jpg"
				:src="src" 
				:style="sizeStyle">
			<canvas ref="canvas" 
				:style="sizeStyle"></canvas>
		</div>
		<div class="ctrl-box">
			<button class="btn"
				:class="{current: !isDefaultImageURL}"
				@click="chooseFile()">选择图片</button>
			<a class="btn" 
				:class="{current: isDefaultImageURL}"
				@click="save()" 
				:href="output"
				:disabled="runing"
				:download="downloadFilename"
				v-text="runing?'生成中…':'保存图片'"
				></a>
			<!-- <button @click="louvre()" class="generator-btn"></button> -->
			<div class="config-box">
				<!-- <div class="label-box">
					<b>light</b>
					<input type="range" v-model.number="style.light"
						min="-100" max="100" step=".1">
					<span v-text="style.light"></span>
				</div> -->
		<!-- 
				<div class="label-box">
					<b>s</b>
					<input type="range" v-model.number="style.s"
						min="0" max="100" step="1">
					<span v-text="style.s"></span>
				</div>
				<div class="label-box">
					<b>l</b>
					<input type="range" v-model.number="style.l"
						min="0" max="100" step="1">
					<span v-text="style.l"></span>
				</div> -->
				<ui-tabs v-model="style.convoluteName" :options="convolutes" @input="_louvre(50)"></ui-tabs>
	
				<!-- <div class="label-box">
					<label>
						<input type="checkbox" v-model="style.convolute1Diff">卷曲diff
					</label>
				</div> -->
				<div style="padding:14px 0;">
					<!-- <ui-switch v-model="style.cover">方形</ui-switch> -->
					<ui-switch v-model="style.denoise" @input="_louvre(50)">降噪</ui-switch>
					<ui-switch v-model="style.kuma" @input="_louvre(50)">Kiss</ui-switch>
					<!-- <ui-switch v-model="style.shade" :disabled="!style.kuma" @input="_louvre(50)">调子</ui-switch> -->
					<ui-switch v-model="style.watermark" @input="_louvre(50)">水印</ui-switch>
					<ui-switch v-model="style.hajimei" :disabled="!style.watermark" @input="_louvre(50)">初回</ui-switch>
				</div>
				<!-- <div class="label-box">
					<label>
						<input type="checkbox" v-model="style.shade">调子
					</label>
					<label>
						<input type="checkbox" v-model="style.cover">方形
					</label>
					<label>
						<input type="checkbox" v-model="style.kuma">Kiss
					</label>
					<label>
						<input type="checkbox" v-model="style.watermark">水印
					</label>
					
					<label>
						<input type="checkbox" v-model="style.hajimei" :disabled="!style.watermark">初回
					</label>
				</div> -->
	
				<!-- <div class="label-box">
					<b>contrast</b>
					<input type="range" v-model.number="style.contrast"
						min="1" max="100" step=".1">
					<span v-text="style.contrast"></span>
				</div> -->
	
				<!-- <div class="label-box" style="padding:10px 0;">
					<b>线条方案2</b>
					<label>
						<input type="radio" v-model="style.convoluteName2" :value="null">null
					</label>
					<label v-for="con,convoluteName in Convolutes">
						<input type="radio" v-model="style.convoluteName2" :value="convoluteName">{{convoluteName}}
					</label>
				</div> -->
	
				<!-- <div class="label-box">
					<label>
						<input type="checkbox" v-model="style.invertLight">颠倒黑白
					</label>
				</div> -->
	
				<!-- <div class="label-box">
					<b>高亮切断</b>
					<input type="range" v-model.number="style.lightCut"
						min="0" max="128" step="1">
					<span v-text="style.lightCut"></span>
				</div> -->
				<div class="label-box range-box" style="padding:10px 0 4px;">
					<div class="head">
						<b>线迹轻重</b>
						<span v-text="style.darkCut"></span>
					</div>
					<input type="range" v-model.number="style.darkCut"
						min="80" max="126" step="1">
				</div>
				<div class="label-box range-box">
					<div class="head">
						<b>调子数量</b>
						<span v-text="style.shadeLimit"></span>
					</div>
					<input type="range" v-model.number="style.shadeLimit"
						min="20" max="200" step="1">
				</div>
				<!-- <div class="label-box range-box">
					<div class="head">
						<b>调子轻重</b>
						<span v-text="style.shadeLight"></span>
					</div>
					<input type="range" v-model.number="style.shadeLight"
						min="10" max="70" step="1">
				</div> -->
				<!-- <div class="label-box">
					<label>
						<input type="checkbox" v-model="style.hue">色轮
					</label>
				</div>
				<div class="label-box">
					<b>色轮压缩</b><input type="range" v-model.number="style.hueGroup"
						min="10" max="255" step="1">
						<span v-text="style.hueGroup"></span>
				</div> -->
			</div>
			<div class="tips-box">
				<p>
					建议上传
					<b>赛璐珞风格</b> 的 
					<b>动画截图</b>、<b>插画</b>
					等，效果最佳
				</p>
				<p>
					高清图请务必
					<a @click="style.denoise = false">关闭降噪</a>
					线条更精致
				</p>
				<p>
					也可以
					<a @click="saveDiff()">生成对比图</a>
					方便分享
				</p>
				<!-- <p>
					移动端请使用
					<b>自带浏览器</b>
					进行保存
				</p> -->
			</div>
		</div>
	</div>
	<div class="loading-box" v-show="loading" @animationEnd.salf="init()">
		<!-- <h2>
			One Last Image
			/
			Magic Conch
		</h2> -->
		<svg viewBox="0 0 320 40"><path d="M0.94,19.91c0-1.12,0.21-2.17,0.62-3.14s0.97-1.8,1.66-2.49s1.46-1.24,2.32-1.65c1.16-0.56,2.37-0.84,3.63-0.84c1.18,0,2.27,0.23,3.3,0.69c1.02,0.46,1.87,1.03,2.56,1.72s1.21,1.44,1.59,2.24c0.52,1.07,0.78,2.2,0.78,3.39c0,1.15-0.22,2.2-0.66,3.16c-0.44,0.96-1,1.77-1.69,2.44c-0.68,0.67-1.44,1.2-2.26,1.6c-1.16,0.56-2.37,0.84-3.63,0.84c-1.2,0-2.34-0.25-3.45-0.76c-0.9-0.42-1.7-0.97-2.38-1.65c-0.68-0.67-1.21-1.4-1.59-2.17C1.21,22.21,0.94,21.08,0.94,19.91z M2.5,19.91c0,0.94,0.21,1.86,0.64,2.76c0.31,0.65,0.74,1.26,1.3,1.82c0.56,0.56,1.24,1.03,2.05,1.41c0.81,0.38,1.7,0.56,2.68,0.56c1.14,0,2.24-0.3,3.31-0.89c1.06-0.59,1.89-1.41,2.48-2.45s0.88-2.13,0.88-3.28c0-0.72-0.12-1.44-0.36-2.13s-0.57-1.31-0.98-1.85c-0.42-0.53-0.88-0.99-1.39-1.38s-1.11-0.7-1.78-0.94s-1.39-0.36-2.14-0.36c-1,0-1.96,0.22-2.86,0.66c-0.7,0.33-1.34,0.79-1.92,1.37s-1.04,1.28-1.38,2.1C2.67,18.14,2.5,19,2.5,19.91z M19.65,27.6V16.11h1.47v1.47h0.04c0.8-1.18,2.01-1.76,3.64-1.76c0.77,0,1.47,0.14,2.1,0.42c0.62,0.28,1.17,0.68,1.65,1.2c0.31,0.35,0.56,0.79,0.76,1.32c0.3,0.78,0.45,1.62,0.45,2.52v6.32h-1.47v-6.32c0-0.92-0.17-1.7-0.5-2.33c-0.33-0.63-0.79-1.09-1.37-1.38s-1.16-0.43-1.73-0.43c-0.61,0-1.21,0.16-1.8,0.48c-0.59,0.32-1.03,0.78-1.33,1.4c-0.29,0.62-0.44,1.38-0.44,2.27v6.32H19.65z M43.86,22.39H33.41c0.05,0.62,0.19,1.17,0.42,1.65c0.23,0.48,0.54,0.9,0.94,1.27c0.4,0.37,0.86,0.67,1.39,0.9c0.53,0.23,1.1,0.34,1.71,0.34c0.92,0,1.75-0.24,2.5-0.73c0.74-0.49,1.28-1.15,1.61-1.98h1.56c-0.26,0.7-0.57,1.29-0.94,1.74c-0.59,0.73-1.29,1.3-2.11,1.7c-0.82,0.4-1.71,0.6-2.67,0.6c-1.64,0-3.04-0.57-4.19-1.72s-1.73-2.55-1.73-4.2c0-1.1,0.27-2.13,0.8-3.08c0.53-0.95,1.28-1.7,2.24-2.24s1.94-0.81,2.96-0.81c1.01,0,1.99,0.27,2.94,0.81s1.69,1.29,2.23,2.26c0.54,0.96,0.8,1.97,0.8,3.01C43.87,22.01,43.87,22.18,43.86,22.39z M42.38,21.07c-0.12-0.59-0.28-1.08-0.49-1.49s-0.5-0.79-0.88-1.16c-0.38-0.37-0.84-0.67-1.38-0.91c-0.54-0.24-1.13-0.36-1.75-0.36c-0.61,0-1.17,0.11-1.7,0.34c-0.52,0.23-0.98,0.51-1.37,0.87s-0.7,0.75-0.92,1.19c-0.22,0.44-0.39,0.95-0.5,1.53H42.38z M52.28,27.6V12.05h1.56v14.14h6.42v1.4H52.28z M71.76,16.11V27.6h-1.48v-2.02h-0.04c-0.31,0.44-0.6,0.78-0.87,1.02c-0.44,0.38-0.96,0.68-1.58,0.92s-1.33,0.36-2.13,0.36c-1.18,0-2.24-0.27-3.16-0.8s-1.64-1.28-2.14-2.24s-0.76-1.96-0.76-2.99c0-1.05,0.27-2.06,0.8-3.01c0.53-0.95,1.28-1.7,2.24-2.23c0.96-0.53,1.99-0.79,3.1-0.79c0.73,0,1.4,0.11,2.01,0.33c0.61,0.22,1.13,0.53,1.58,0.92c0.31,0.26,0.61,0.61,0.91,1.06h0.04v-2.01H71.76z M61.07,21.89c0,0.83,0.19,1.6,0.58,2.33c0.39,0.73,0.95,1.3,1.69,1.71s1.52,0.62,2.36,0.62s1.63-0.2,2.35-0.61c0.73-0.41,1.3-0.98,1.71-1.71s0.62-1.52,0.62-2.35c0-0.84-0.21-1.64-0.62-2.38c-0.41-0.75-0.98-1.33-1.7-1.74s-1.49-0.62-2.32-0.62c-0.44,0-0.87,0.06-1.27,0.17c-0.4,0.11-0.79,0.28-1.16,0.49c-0.37,0.21-0.73,0.5-1.08,0.88s-0.62,0.84-0.84,1.4C61.18,20.64,61.07,21.24,61.07,21.89z M73.57,24.19h1.47c0.03,0.5,0.1,0.89,0.22,1.17c0.16,0.39,0.4,0.69,0.71,0.89c0.32,0.2,0.71,0.3,1.16,0.3c0.66,0,1.17-0.18,1.55-0.55s0.56-0.86,0.56-1.47c0-0.52-0.15-0.96-0.45-1.31c-0.3-0.36-0.92-0.7-1.88-1.03c-0.76-0.27-1.3-0.5-1.61-0.7c-0.46-0.3-0.8-0.65-1.04-1.06c-0.24-0.4-0.35-0.88-0.35-1.42c0-0.92,0.31-1.69,0.92-2.3c0.61-0.61,1.38-0.91,2.3-0.91c0.63,0,1.2,0.15,1.7,0.45c0.51,0.3,0.9,0.72,1.17,1.25c0.18,0.35,0.28,0.82,0.31,1.43h-1.47c-0.06-0.59-0.25-1.04-0.56-1.35c-0.31-0.3-0.7-0.46-1.17-0.46c-0.49,0-0.9,0.17-1.24,0.5c-0.33,0.33-0.5,0.74-0.5,1.22c0,0.31,0.08,0.59,0.24,0.84s0.39,0.45,0.69,0.62c0.23,0.13,0.58,0.28,1.06,0.44c0.83,0.29,1.44,0.55,1.8,0.78c0.51,0.32,0.89,0.71,1.15,1.17c0.26,0.46,0.39,1.04,0.39,1.73c0,0.64-0.14,1.23-0.43,1.77s-0.7,0.95-1.25,1.24s-1.16,0.43-1.84,0.43c-0.65,0-1.21-0.12-1.69-0.36c-0.48-0.24-0.86-0.53-1.14-0.87c-0.28-0.34-0.49-0.7-0.61-1.08C73.63,25.18,73.57,24.73,73.57,24.19z M83.93,27.6V17.44h-2.41v-1.32h2.41v-4.06h1.48v4.06h2.75v1.32H85.4V27.6H83.93z M95.75,27.6V12.05h1.56V27.6H95.75z M100.28,27.6V16.11h1.47v1.32h0.02c0.16-0.28,0.32-0.5,0.48-0.65c0.28-0.26,0.65-0.49,1.11-0.68c0.46-0.2,0.99-0.29,1.58-0.29c0.67,0,1.27,0.13,1.81,0.38c0.54,0.25,0.99,0.57,1.36,0.94c0.21,0.22,0.42,0.51,0.62,0.88c0.23-0.4,0.45-0.71,0.67-0.93c0.36-0.35,0.81-0.65,1.37-0.9c0.56-0.25,1.21-0.37,1.94-0.37c0.62,0,1.17,0.1,1.66,0.29c0.49,0.19,0.93,0.46,1.31,0.8s0.69,0.73,0.91,1.17s0.39,0.92,0.5,1.44c0.08,0.34,0.11,0.76,0.11,1.26v6.83h-1.48v-6.65c0-1.27-0.29-2.22-0.86-2.86c-0.57-0.63-1.33-0.95-2.28-0.95c-0.67,0-1.25,0.17-1.74,0.5c-0.49,0.33-0.83,0.74-1.01,1.23c-0.25,0.64-0.37,1.33-0.37,2.08v6.65h-1.47v-6.65c0-1.27-0.29-2.22-0.87-2.86c-0.58-0.63-1.33-0.95-2.27-0.95c-0.93,0-1.68,0.31-2.26,0.94c-0.58,0.62-0.87,1.58-0.87,2.87v6.65H100.28z M131.64,16.11V27.6h-1.48v-2.02h-0.04c-0.31,0.44-0.6,0.78-0.87,1.02c-0.44,0.38-0.96,0.68-1.58,0.92c-0.62,0.24-1.33,0.36-2.13,0.36c-1.18,0-2.24-0.27-3.16-0.8s-1.64-1.28-2.14-2.24s-0.76-1.96-0.76-2.99c0-1.05,0.27-2.06,0.8-3.01c0.53-0.95,1.28-1.7,2.24-2.23c0.96-0.53,1.99-0.79,3.1-0.79c0.73,0,1.4,0.11,2.01,0.33c0.61,0.22,1.13,0.53,1.58,0.92c0.31,0.26,0.61,0.61,0.91,1.06h0.04v-2.01H131.64z M120.94,21.89c0,0.83,0.19,1.6,0.58,2.33c0.39,0.73,0.95,1.3,1.69,1.71s1.52,0.62,2.36,0.62s1.63-0.2,2.35-0.61c0.73-0.41,1.3-0.98,1.71-1.71s0.62-1.52,0.62-2.35c0-0.84-0.21-1.64-0.62-2.38c-0.41-0.75-0.98-1.33-1.7-1.74c-0.72-0.41-1.49-0.62-2.32-0.62c-0.44,0-0.87,0.06-1.27,0.17c-0.4,0.11-0.79,0.28-1.16,0.49c-0.37,0.21-0.73,0.5-1.08,0.88s-0.62,0.84-0.84,1.4C121.05,20.64,120.94,21.24,120.94,21.89z M143.63,16.11h1.47v9.68c0,0.92-0.05,1.67-0.16,2.25c-0.12,0.57-0.33,1.11-0.65,1.61c-0.32,0.5-0.71,0.93-1.19,1.3c-0.48,0.37-1.01,0.65-1.6,0.86c-0.59,0.2-1.24,0.3-1.95,0.3c-0.85,0-1.66-0.14-2.41-0.41s-1.4-0.66-1.95-1.17c-0.42-0.39-0.77-0.82-1.04-1.29c-0.18-0.33-0.36-0.78-0.53-1.34h1.56c0.41,0.96,0.99,1.69,1.73,2.17s1.6,0.72,2.57,0.72c0.7,0,1.33-0.13,1.89-0.38s0.99-0.57,1.32-0.95c0.32-0.38,0.58-0.85,0.75-1.4c0.13-0.4,0.19-0.92,0.19-1.54V25.5h-0.04c-0.33,0.52-0.66,0.91-0.96,1.18c-0.43,0.38-0.94,0.67-1.53,0.88s-1.22,0.32-1.89,0.32c-1.05,0-2.05-0.26-3.02-0.79s-1.72-1.25-2.25-2.18c-0.53-0.93-0.79-1.93-0.79-3.01c0-0.9,0.16-1.72,0.49-2.45c0.33-0.73,0.74-1.34,1.24-1.83s1.05-0.89,1.64-1.18c0.85-0.42,1.73-0.63,2.64-0.63c0.66,0,1.29,0.11,1.89,0.33c0.59,0.22,1.11,0.51,1.55,0.88c0.33,0.28,0.66,0.66,0.99,1.14h0.04V16.11z M134.62,21.87c0,0.81,0.2,1.58,0.59,2.32s0.95,1.32,1.67,1.74c0.72,0.42,1.48,0.63,2.3,0.63c0.82,0,1.58-0.21,2.28-0.63c0.7-0.42,1.25-1.01,1.66-1.78c0.4-0.77,0.6-1.54,0.6-2.32c0-0.79-0.21-1.57-0.62-2.32s-0.97-1.33-1.69-1.75c-0.71-0.41-1.47-0.62-2.26-0.62c-0.68,0-1.3,0.13-1.84,0.4s-1.01,0.61-1.42,1.03c-0.4,0.42-0.72,0.92-0.94,1.51C134.73,20.66,134.62,21.26,134.62,21.87z M158.59,22.39h-10.46c0.05,0.62,0.19,1.17,0.42,1.65c0.23,0.48,0.54,0.9,0.94,1.27c0.4,0.37,0.86,0.67,1.39,0.9c0.53,0.23,1.1,0.34,1.71,0.34c0.92,0,1.75-0.24,2.5-0.73c0.74-0.49,1.28-1.15,1.61-1.98h1.56c-0.26,0.7-0.57,1.29-0.94,1.74c-0.59,0.73-1.29,1.3-2.11,1.7c-0.82,0.4-1.71,0.6-2.67,0.6c-1.64,0-3.04-0.57-4.19-1.72s-1.73-2.55-1.73-4.2c0-1.1,0.27-2.13,0.8-3.08c0.53-0.95,1.28-1.7,2.24-2.24s1.94-0.81,2.96-0.81c1.01,0,1.99,0.27,2.94,0.81s1.69,1.29,2.23,2.26c0.54,0.96,0.8,1.97,0.8,3.01C158.61,22.01,158.6,22.18,158.59,22.39z M157.11,21.07c-0.12-0.59-0.28-1.08-0.49-1.49s-0.5-0.79-0.88-1.16c-0.38-0.37-0.84-0.67-1.38-0.91c-0.54-0.24-1.13-0.36-1.75-0.36c-0.61,0-1.17,0.11-1.7,0.34c-0.52,0.23-0.98,0.51-1.37,0.87s-0.7,0.75-0.92,1.19c-0.22,0.44-0.39,0.95-0.5,1.53H157.11z M166.21,29.7l5.88-17.65h1.66l-5.94,17.65H166.21z M181.88,27.6V12.05h2.4l5.64,13.24l5.67-13.24h2.4V27.6h-1.56V13.76h-0.04l-5.81,13.84h-1.32l-5.77-13.84h-0.04V27.6H181.88z M212.62,16.11V27.6h-1.48v-2.02h-0.04c-0.31,0.44-0.61,0.78-0.87,1.02c-0.44,0.38-0.96,0.68-1.58,0.92s-1.33,0.36-2.13,0.36c-1.18,0-2.23-0.27-3.16-0.8c-0.92-0.53-1.64-1.28-2.14-2.24s-0.76-1.96-0.76-2.99c0-1.05,0.27-2.06,0.8-3.01c0.53-0.95,1.28-1.7,2.24-2.23c0.96-0.53,1.99-0.79,3.1-0.79c0.73,0,1.4,0.11,2.01,0.33c0.61,0.22,1.13,0.53,1.58,0.92c0.31,0.26,0.61,0.61,0.91,1.06h0.04v-2.01H212.62z M201.93,21.89c0,0.83,0.2,1.6,0.58,2.33c0.39,0.73,0.95,1.3,1.69,1.71c0.74,0.41,1.52,0.62,2.36,0.62c0.84,0,1.63-0.2,2.35-0.61c0.73-0.41,1.3-0.98,1.71-1.71s0.62-1.52,0.62-2.35c0-0.84-0.21-1.64-0.62-2.38c-0.41-0.75-0.98-1.33-1.7-1.74c-0.72-0.41-1.49-0.62-2.32-0.62c-0.44,0-0.87,0.06-1.27,0.17c-0.4,0.11-0.79,0.28-1.16,0.49c-0.37,0.21-0.73,0.5-1.08,0.88c-0.34,0.37-0.62,0.84-0.84,1.4C202.04,20.64,201.93,21.24,201.93,21.89z M224.62,16.11h1.47v9.68c0,0.92-0.05,1.67-0.16,2.25c-0.12,0.57-0.33,1.11-0.65,1.61c-0.32,0.5-0.71,0.93-1.19,1.3c-0.48,0.37-1.01,0.65-1.6,0.86c-0.59,0.2-1.24,0.3-1.95,0.3c-0.86,0-1.66-0.14-2.41-0.41s-1.4-0.66-1.95-1.17c-0.42-0.39-0.77-0.82-1.04-1.29c-0.18-0.33-0.36-0.78-0.53-1.34h1.56c0.41,0.96,0.99,1.69,1.73,2.17s1.6,0.72,2.57,0.72c0.7,0,1.33-0.13,1.89-0.38c0.55-0.26,0.99-0.57,1.32-0.95c0.32-0.38,0.58-0.85,0.75-1.4c0.13-0.4,0.19-0.92,0.19-1.54V25.5h-0.04c-0.33,0.52-0.66,0.91-0.96,1.18c-0.43,0.38-0.94,0.67-1.53,0.88c-0.59,0.21-1.22,0.32-1.89,0.32c-1.05,0-2.05-0.26-3.02-0.79c-0.97-0.53-1.72-1.25-2.24-2.18c-0.53-0.93-0.79-1.93-0.79-3.01c0-0.9,0.16-1.72,0.49-2.45c0.33-0.73,0.74-1.34,1.24-1.83s1.05-0.89,1.64-1.18c0.85-0.42,1.73-0.63,2.64-0.63c0.66,0,1.29,0.11,1.89,0.33c0.59,0.22,1.11,0.51,1.55,0.88c0.33,0.28,0.66,0.66,1,1.14h0.04V16.11z M215.61,21.87c0,0.81,0.2,1.58,0.59,2.32c0.39,0.74,0.95,1.32,1.67,1.74c0.72,0.42,1.48,0.63,2.3,0.63c0.82,0,1.58-0.21,2.28-0.63c0.7-0.42,1.25-1.01,1.66-1.78c0.4-0.77,0.6-1.54,0.6-2.32c0-0.79-0.21-1.57-0.62-2.32s-0.97-1.33-1.69-1.75c-0.71-0.41-1.47-0.62-2.26-0.62c-0.68,0-1.29,0.13-1.83,0.4s-1.01,0.61-1.42,1.03c-0.4,0.42-0.72,0.92-0.94,1.51C215.72,20.66,215.61,21.26,215.61,21.87z M228.85,14.7v-2.65h1.47v2.65H228.85z M228.85,27.6V16.11h1.47V27.6H228.85z M242.82,24.21h1.62c-0.39,0.73-0.79,1.32-1.19,1.75c-0.56,0.6-1.21,1.07-1.95,1.4c-0.74,0.33-1.58,0.5-2.51,0.5c-1.16,0-2.22-0.26-3.16-0.79c-0.95-0.53-1.7-1.26-2.25-2.2c-0.55-0.94-0.83-1.95-0.83-3.02c0-1.05,0.27-2.05,0.81-3c0.54-0.95,1.3-1.7,2.28-2.24s2.01-0.81,3.09-0.81c0.89,0,1.74,0.18,2.55,0.53c0.81,0.35,1.5,0.84,2.06,1.45c0.42,0.46,0.79,1.05,1.11,1.78h-1.62c-0.27-0.46-0.53-0.83-0.79-1.1c-0.4-0.4-0.88-0.73-1.43-0.97c-0.55-0.25-1.15-0.37-1.81-0.37c-0.83,0-1.62,0.21-2.38,0.62c-0.76,0.41-1.35,0.98-1.76,1.7c-0.41,0.72-0.62,1.51-0.62,2.36c0,0.85,0.21,1.64,0.62,2.38c0.42,0.74,0.99,1.32,1.73,1.73s1.54,0.62,2.42,0.62s1.66-0.2,2.36-0.6S242.41,24.97,242.82,24.21z M265.54,23.53h1.74c-0.42,0.7-0.81,1.25-1.17,1.65c-0.52,0.58-1.11,1.08-1.78,1.48c-0.67,0.41-1.36,0.71-2.09,0.91c-0.73,0.2-1.45,0.3-2.17,0.3c-1.38,0-2.72-0.36-4-1.07c-1.29-0.71-2.29-1.7-3-2.95c-0.71-1.26-1.07-2.6-1.07-4.03c0-1.42,0.35-2.75,1.06-4.01c0.71-1.26,1.7-2.24,2.98-2.95c1.28-0.71,2.62-1.06,4.03-1.06c1.52,0,2.95,0.39,4.27,1.16c1.32,0.77,2.28,1.8,2.89,3.09h-1.74c-0.43-0.59-0.83-1.04-1.2-1.36c-0.52-0.45-1.12-0.81-1.79-1.08c-0.68-0.27-1.43-0.4-2.27-0.4c-1.2,0-2.31,0.3-3.35,0.89c-1.04,0.59-1.85,1.42-2.44,2.5s-0.88,2.16-0.88,3.27c0,0.94,0.19,1.8,0.56,2.6c0.38,0.8,0.85,1.48,1.42,2.03c0.57,0.55,1.18,0.99,1.83,1.31c0.9,0.44,1.82,0.66,2.77,0.66c0.77,0,1.51-0.14,2.21-0.42c0.7-0.28,1.34-0.65,1.9-1.12C264.66,24.59,265.09,24.12,265.54,23.53z M268.57,21.93c0-0.86,0.16-1.66,0.47-2.4s0.73-1.37,1.25-1.89s1.09-0.93,1.72-1.23c0.81-0.4,1.67-0.59,2.56-0.59c1.03,0,2.01,0.27,2.96,0.81c0.95,0.54,1.69,1.29,2.23,2.25s0.81,1.96,0.81,2.97s-0.27,2.01-0.8,2.97c-0.54,0.96-1.28,1.71-2.22,2.25c-0.95,0.54-1.94,0.81-2.98,0.81c-0.74,0-1.44-0.13-2.12-0.39c-0.67-0.26-1.27-0.62-1.79-1.08c-0.52-0.46-0.92-0.93-1.21-1.41s-0.51-0.98-0.66-1.5C268.64,22.97,268.57,22.45,268.57,21.93z M270.03,21.91c0,0.8,0.2,1.56,0.59,2.29c0.39,0.73,0.96,1.3,1.69,1.72c0.73,0.42,1.49,0.63,2.26,0.63s1.52-0.2,2.24-0.61c0.72-0.41,1.28-0.98,1.69-1.72c0.41-0.74,0.61-1.54,0.61-2.41c0-0.88-0.21-1.68-0.62-2.39c-0.41-0.71-0.99-1.27-1.72-1.68c-0.74-0.4-1.47-0.6-2.2-0.6c-0.74,0-1.48,0.21-2.22,0.63c-0.74,0.42-1.31,1-1.71,1.74C270.23,20.25,270.03,21.05,270.03,21.91z M282.8,27.6V16.11h1.47v1.47h0.04c0.8-1.18,2.01-1.76,3.64-1.76c0.77,0,1.47,0.14,2.1,0.42c0.62,0.28,1.17,0.68,1.65,1.2c0.31,0.35,0.56,0.79,0.76,1.32c0.3,0.78,0.45,1.62,0.45,2.52v6.32h-1.47v-6.32c0-0.92-0.17-1.7-0.5-2.33c-0.33-0.63-0.79-1.09-1.37-1.38s-1.16-0.43-1.73-0.43c-0.61,0-1.21,0.16-1.8,0.48c-0.59,0.32-1.03,0.78-1.33,1.4c-0.29,0.62-0.44,1.38-0.44,2.27v6.32H282.8z M305.37,24.21h1.62c-0.39,0.73-0.79,1.32-1.19,1.75c-0.56,0.6-1.21,1.07-1.95,1.4c-0.74,0.33-1.58,0.5-2.51,0.5c-1.16,0-2.22-0.26-3.16-0.79c-0.95-0.53-1.7-1.26-2.25-2.2c-0.55-0.94-0.83-1.95-0.83-3.02c0-1.05,0.27-2.05,0.81-3c0.54-0.95,1.3-1.7,2.28-2.24s2.01-0.81,3.09-0.81c0.89,0,1.74,0.18,2.55,0.53c0.81,0.35,1.5,0.84,2.06,1.45c0.42,0.46,0.79,1.05,1.11,1.78h-1.62c-0.27-0.46-0.53-0.83-0.79-1.1c-0.4-0.4-0.88-0.73-1.43-0.97c-0.55-0.25-1.15-0.37-1.81-0.37c-0.83,0-1.62,0.21-2.38,0.62c-0.76,0.41-1.35,0.98-1.76,1.7c-0.41,0.72-0.62,1.51-0.62,2.36c0,0.85,0.21,1.64,0.62,2.38c0.42,0.74,0.99,1.32,1.73,1.73s1.54,0.62,2.42,0.62s1.66-0.2,2.36-0.6S304.96,24.97,305.37,24.21z M308.46,27.6V12.05h1.47v5.53h0.04c0.4-0.55,0.88-0.98,1.46-1.29c0.58-0.31,1.3-0.47,2.18-0.47c0.77,0,1.47,0.14,2.09,0.42c0.62,0.28,1.18,0.69,1.66,1.22c0.31,0.35,0.56,0.78,0.75,1.29c0.3,0.78,0.45,1.62,0.45,2.53v6.32h-1.47v-6.32c0-1.31-0.34-2.33-1.02-3.06c-0.68-0.72-1.54-1.09-2.59-1.09c-0.63,0-1.19,0.14-1.68,0.41c-0.49,0.27-0.88,0.6-1.16,0.99c-0.21,0.28-0.38,0.66-0.51,1.13c-0.14,0.48-0.21,1.01-0.21,1.62v6.32H308.46z"/></svg>
	</div>
	<div class="ui-shadow" v-if="output" v-clock>
		<div class="output-box">
			<h2>生成好啦</h2>
			<img :src="output" :alt="downloadFilename">
			<!-- <p>
				<a :href="output">链接形式跳转到图片</a>
			</p> -->
			<p>手机端保存失败时可尝试长按图片 <b>“添加到照片”</b></p>
			<div class="ctrl-box">
				<button class="btn current" @click="output = ''">关闭窗口</button>
			</div>
			<div>
				<a @click="save()">不对比</a>、
				<a @click="saveDiff()">上下对比图</a>、
				<a @click="saveDiff2()">斜切对比图</a>
				<br>
				<div class="label-box range-box">
					<div class="head">
						<b>斜切位置</b>
						<span v-text="bevelPosition"></span>
					</div>
					<input type="range" v-model.number="bevelPosition"
						min="0" max="72" step="1" @input="_saveDiff2(50)">
				</div>
			</div>
		</div>
	</div>
	<footer>
		<!-- <a href="https://www.bilibili.com/video/BV1Sg411w7T9" target="_blank">MV</a>
		<hr> -->
		<a href="https://lab.magiconch.com/magi/" target="_blank">Magi</a>
		<a href="https://lab.magiconch.com/eva-title/" target="_blank">标题生成器</a>
		<a href="https://v.magiconch.com/mine-sweeper" target="_blank">扫雷</a>
		<br>
		<a href="https://github.com/itorr/one-last-image" target="_blank">GitHub</a>
		<a href="https://lab.magiconch.com" target="_blank">神奇海螺实验室</a>
		<a href="https://weibo.com/1197780522/M19X18EGP" target="_blank">@卜卜口</a>
	</footer>

	<div class="lyric-box">
		<div class="list" :style="{
			transform: `translateY(-${lyricIndex * 48}px)`
		}" v-if="lyrics">
			<div class="item" 
			v-for="lyric,index in lyrics"
			:data-current="index === lyricIndex"
			:data-s="lyric[0]"
			:key="lyric[0]"
			:data-have-cn="!!lyric[2]">
			<div class="text" v-text="lyric[1]"></div>
			<div class="cn" v-if="lyric[2]" v-text="lyric[2]"></div>
		</div>
		</div>
	</div>
</div>

<script src="/vue.2.6.11.min.js"></script>
<script src="color.js"></script>
<script src="lyric.js"></script>
<!-- <script src="bezier-easing.js"></script> -->
<script src="louvre.js"></script>
<script src="ui-tabs.vue.js"></script>
<script src="ui-switch.vue.js"></script>
<script src="document.js"></script>
</body>
</html>